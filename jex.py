import os
import shell.classes
import shell.logic
import readline

# Vars
global cmd

# for modules
pathmodule="tools/"
typemodule=".py"

def cmds(cmd):
   if cmd.lower().replace(" ", "") == "exit":
     shell.classes.control(0,"")
   elif cmd.lower().strip() == "show help":
     shell.classes.control(1,"generalhelp")
   elif cmd.lower().strip() == "clear":
     shell.classes.control(2,"")
   elif cmd.lower().replace(" ", "")[0:3] == "use":
     module(cmd.lower().replace(" ", "")[3:len(cmd.lower().replace(" ", ""))])
   elif cmd.lower().replace(" ", "")[0:5] == "about":
     about(cmd.lower().replace(" ", "")[5:len(cmd.lower().replace(" ", ""))])
   else:
     shell.classes.control(4, cmd.strip())
   palias()

def module(mod):
   if os.path.isfile(pathmodule+mod+"/"+mod+typemodule):
     shell.logic.success("use module: " + shell.logic.CYAN  +  mod)
   else:
     shell.logic.fail("the module: " + mod + " not found")
     palias()

def about(mod):
   shell.classes.control(1,mod)

def palias():
   cmd = input(shell.classes.alias(""))
   if cmd is not None:
     if cmd.lower().replace(" ", "")[0:3] == "use":
       module(cmd.lower().replace(" ", "")[3:len(cmd.lower().replace(" ", ""))])
     else:
       cmds(cmd)

# For login
if __name__ == "__main__":
   palias()
